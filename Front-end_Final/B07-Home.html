<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bienvenido a Malasa - Cocina India</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* --- Estilos Generales y Tema "Malasa" --- */
      :root {
        --color-primario: #ff9933;
        --color-secundario: #8b4513;
        --color-fondo-pagina: #fdfaf5;
        --color-surface: #ffffff;
        --color-texto: #4a2e2a;
        --color-texto-secundario: #6c757d;
        --color-fondo-modal: #fff8e1;
        --color-accion-modal: #007bff;
        --fuente-titulos: "Lora", serif;
        --fuente-cuerpo: "Open Sans", sans-serif;
      }

      body {
        font-family: var(--fuente-cuerpo);
        background-color: var(--color-fondo-pagina);
        color: var(--color-texto);
        margin: 0;
        line-height: 1.6;
      }

      .navbar {
        background-color: var(--color-surface);
        padding: 0.5rem 1rem;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        position: sticky;
        top: 0;
        z-index: 100;
      }
      .navbar-container {
        width: 100%;
        max-width: 1140px;
        margin: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .navbar-brand {
        font-family: var(--fuente-titulos);
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--color-texto);
        text-decoration: none;
        display: flex;
        align-items: center;
      }
      .navbar-brand img {
        width: 40px;
        height: 40px;
        object-fit: cover;
        border-radius: 50%;
        margin-right: 0.5rem;
      }
      .navbar-nav {
        list-style: none;
        display: flex;
        gap: 1.5rem;
        margin: 0;
      }
      .nav-link {
        color: var(--color-texto);
        text-decoration: none;
        font-weight: 600;
        cursor: pointer;
      }
      .nav-link.active,
      .nav-link:hover {
        color: var(--color-primario);
      }

      .section {
        padding: 4rem 1rem;
        max-width: 960px;
        margin: auto;
        text-align: center;
      }
      .section-title {
        font-family: var(--fuente-titulos);
        font-size: 2.5rem;
        color: var(--color-secundario);
        margin-bottom: 0.5rem;
      }
      .section-subtitle {
        font-size: 1.1rem;
        color: var(--color-texto-secundario);
        max-width: 600px;
        margin: 0 auto 2rem auto;
      }

      /* La Carta */
      #menu {
        background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
          url("images/Cordero/1.png") no-repeat center center;
        background-size: cover;
        color: white;
        border-radius: 15px;
        max-width: 960px;
        margin: 4rem auto;
      }
      #menu .section-subtitle {
        color: #f0f0f0;
      }

      .hero {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url("images/Home/bienvenida.webp") no-repeat center center;
        background-size: cover;
        color: white;
        padding: 6rem 1rem;
        text-align: center;
      }
      .hero h1 {
        font-family: var(--fuente-titulos);
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }
      .hero p {
        font-size: 1.25rem;
        max-width: 600px;
        margin: 0 auto 2rem auto;
      }
      .cta-button {
        background-color: var(--color-primario);
        color: var(--color-secundario);
        padding: 0.8em 2em;
        text-decoration: none;
        font-weight: 700;
        border-radius: 25px;
        transition: transform 0.2s;
        display: inline-block;
      }
      .cta-button:hover {
        transform: scale(1.05);
      }

      #about .about-content {
        display: flex;
        align-items: center;
        gap: 2rem;
        text-align: left;
      }
      #about img {
        width: 40%;
        border-radius: 8px;
      }
      #location .location-content {
        display: flex;
        align-items: center;
        gap: 2rem;
        text-align: left;
      }
      #location .google-map {
        width: 50%;
        height: 250px;
        border: 0;
        border-radius: 8px;
      }
      #contact {
        background-color: #fff;
      }

      .footer {
        background-color: var(--color-secundario);
        color: var(--color-fondo-pagina);
        text-align: center;
        padding: 2rem 1rem;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 1;
        visibility: visible;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      .modal-overlay.hidden {
        opacity: 0;
        visibility: hidden;
      }
      .modal-card {
        background-color: var(--color-fondo-modal);
        border-radius: 10px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        width: 100%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        padding: 2.5em;
        text-align: center;
      }
      .close-modal-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 2rem;
        color: var(--color-texto-secundario);
        background: none;
        border: none;
        cursor: pointer;
        line-height: 1;
      }

      .modal-card .card-title {
        font-family: var(--fuente-titulos);
        color: var(--color-secundario);
        font-weight: 600;
        font-size: 2em;
        margin-bottom: 1.5em;
      }
      .modal-card .card-subtitle {
        color: #6c757d;
        margin-bottom: 1.5em;
      }
      .modal-card .form-floating {
        position: relative;
        margin-bottom: 1.5rem;
        text-align: left;
      }
      .modal-card .form-control {
        width: 100%;
        padding: 1rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #fff;
        box-sizing: border-box;
      }
      .modal-card .form-control:focus {
        outline: none;
        border-color: var(--color-primario);
      }
      .modal-card .form-floating label {
        position: absolute;
        top: 1rem;
        left: 1rem;
        color: #aaa;
        pointer-events: none;
        transition: all 0.2s ease-in-out;
      }
      .modal-card .form-control:focus + label,
      .modal-card .form-control:not(:placeholder-shown) + label {
        top: -0.75rem;
        left: 0.75rem;
        font-size: 0.8rem;
        background-color: var(--color-fondo-modal);
        padding: 0 0.25rem;
        color: var(--color-secundario);
      }
      .modal-card .form-text {
        font-size: 0.8em;
        color: #6c757d;
        text-align: left;
        margin-top: -1rem;
        margin-bottom: 1.5rem;
        display: block;
      }
      .modal-card .btn-primary {
        background-color: var(--color-secundario);
        border: none;
        border-radius: 25px;
        padding: 0.8em;
        font-size: 1.1em;
        font-weight: 600;
        color: white;
        width: 100%;
        cursor: pointer;
        margin-bottom: 1.5em;
      }
      .modal-card .btn-primary:hover {
        background-color: #6a350f;
      }
      .modal-card .bottom-link,
      .modal-card .register-link,
      .modal-card .login-link {
        margin-top: 1.5em;
        font-size: 0.9em;
      }
      .modal-card .bottom-link a,
      .modal-card .register-link a,
      .modal-card .login-link a {
        color: var(--color-secundario);
        font-weight: 600;
        text-decoration: none;
        cursor: pointer;
      }
      .modal-card .bottom-link a:hover,
      .modal-card .register-link a:hover,
      .modal-card .login-link a:hover {
        text-decoration: underline;
      }
      .modal-card .forgot-password {
        display: block;
        text-align: right;
        font-size: 0.9em;
        margin-bottom: 1.5rem;
        color: var(--color-secundario);
        text-decoration: none;
        cursor: pointer;
      }
      .modal-card .role-selection {
        display: flex;
        justify-content: space-around;
        gap: 1em;
        margin-bottom: 1.5em;
      }
      .modal-card .btn-role {
        flex: 1;
        background-color: transparent;
        border: 2px solid var(--color-secundario);
        color: var(--color-secundario);
        padding: 0.6em;
        font-size: 0.9em;
        font-weight: 600;
        border-radius: 20px;
        cursor: pointer;
      }
      .modal-card .btn-role:hover {
        background-color: var(--color-secundario);
        color: white;
      }
      .modal-card .hidden-view {
        display: none;
      }

      .modal-card #email-request-view .btn-primary,
      .modal-card #password-reset-view .btn-primary,
      .modal-card #success-view .btn-primary,
      .modal-card #expired-link-view .btn-primary {
        background-color: var(--color-accion-modal);
      }
      .modal-card #email-request-view .btn-primary:hover,
      .modal-card #password-reset-view .btn-primary:hover,
      .modal-card #success-view .btn-primary:hover,
      .modal-card #expired-link-view .btn-primary:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a class="navbar-brand" href="#">
          <img src="images/Logo/flor.jpg" alt="Logo Masala" />
          Masala
        </a>
        <ul class="navbar-nav">
          <li><a class="nav-link active" href="B07-Home.html">Home</a></li>
          <li><a class="nav-link" href="B04_B05-Catalogo.html">Catálogo</a></li>
          <li>
            <a class="nav-link" href="B06-Formulario_de_Contacto.html"
              >Contacto</a
            >
          </li>
          <li>
            <a class="nav-link" id="login-nav-link" href="#">Iniciar Sesión</a>
          </li>
        </ul>
      </div>
    </nav>

    <header class="hero">
      <h1>El Sabor Auténtico de la India</h1>
      <p>
        Un viaje culinario a través de especias, aromas y tradiciones que
        deleitarán tus sentidos.
      </p>
      <a href="#menu" class="cta-button">Ver La Carta</a>
    </header>

    <main>
      <div id="login-modal" class="modal-overlay hidden">
        <div class="modal-card">
          <button class="close-modal-btn">&times;</button>
          <h3 class="card-title">Iniciar Sesión</h3>
          <form id="login-form">
            <div class="form-floating">
              <input
                type="email"
                class="form-control"
                id="emailLogin"
                required
              />
              <label for="emailLogin">Correo Electrónico</label>
            </div>
            <div class="form-floating">
              <input
                type="password"
                class="form-control"
                id="passLogin"
                required
              />
              <label for="passLogin">Contraseña</label>
            </div>
            <a href="#" id="forgot-password-link" class="forgot-password"
              >¿Olvidaste tu contraseña?</a
            >
            <button class="btn-primary" type="submit">Ingresar</button>
          </form>
          <div class="role-selection">
            <button
              class="btn-role"
              type="button"
              onclick="handleRoleLogin('cliente')"
            >
              Entrar como Cliente
            </button>
            <button
              class="btn-role"
              type="button"
              onclick="handleRoleLogin('admin')"
            >
              Entrar como Administrador
            </button>
          </div>
          <div class="register-link">
            <small
              >¿No tienes una cuenta?
              <a href="#" id="go-to-register-link">Regístrate Aquí</a></small
            >
          </div>
        </div>
      </div>

      <div id="register-modal" class="modal-overlay hidden">
        <div class="modal-card">
          <button class="close-modal-btn">&times;</button>
          <h3 class="card-title">Crea tu Cuenta</h3>
          <form>
            <div class="form-floating">
              <input
                type="email"
                class="form-control"
                id="emailRegister"
                required
              />
              <label for="emailRegister">Usuario</label>
            </div>
            <div class="form-floating">
              <input
                type="password"
                class="form-control"
                id="passRegister"
                required
              />
              <label for="passRegister">Contraseña</label>
            </div>
            <small class="form-text">Mínimo 8 caracteres y 1 mayúscula.</small>
            <button class="btn-primary" type="submit">Registrarse</button>
          </form>
          <div class="login-link">
            <small
              >¿Ya tienes una cuenta?
              <a href="#" id="go-to-login-link">Inicia Sesión</a></small
            >
          </div>
        </div>
      </div>

      <div id="recovery-modal" class="modal-overlay hidden">
        <div class="modal-card">
          <button class="close-modal-btn">&times;</button>
          <div id="email-request-view">
            <h3 class="card-title">Recuperar Contraseña</h3>
            <p class="card-subtitle">Ingresa tu correo...</p>
            <form id="email-request-form">
              <div class="form-floating">
                <input
                  type="email"
                  class="form-control"
                  id="emailRecovery"
                  required
                />
                <label for="emailRecovery">Correo Electrónico</label>
              </div>
              <button class="btn-primary" type="submit">Enviar Enlace</button>
            </form>
            <div class="bottom-link">
              <a href="#" id="recovery-back-to-login"
                >Volver a Inicio de Sesión</a
              >
            </div>
          </div>
          <div id="password-reset-view" class="hidden-view">
            <h3 class="card-title">Crear nueva contraseña</h3>
            <p class="card-subtitle">Define una nueva contraseña.</p>
            <form id="password-reset-form">
              <div class="form-floating">
                <input
                  type="password"
                  class="form-control"
                  id="new-password"
                  required
                />
                <label for="new-password">Contraseña nueva</label>
              </div>
              <div class="form-floating">
                <input
                  type="password"
                  class="form-control"
                  id="confirm-password"
                  required
                />
                <label for="confirm-password">Confirmar Contraseña</label>
              </div>
              <button class="btn-primary" type="submit">
                Actualizar Contraseña
              </button>
            </form>
          </div>
          <div id="success-view" class="hidden-view">
            <h3 class="card-title">Contraseña actualizada</h3>
            <p class="card-subtitle">Tu contraseña ha sido actualizada.</p>
            <button id="go-to-login-btn" class="btn-primary">
              Ir a inicio de sesión
            </button>
          </div>
          <div id="expired-link-view" class="hidden-view">
            <h3 class="card-title">Enlace caducado</h3>
            <p class="card-subtitle">Tu enlace ha caducado...</p>
            <button id="expired-ok-btn" class="btn-primary">OK</button>
          </div>
        </div>
      </div>
      <section id="about" class="section">
        <h2 class="section-title">Nuestra Historia</h2>
        <p class="section-subtitle">
          Más que un restaurante, somos una familia apasionada por compartir la
          cultura india.
        </p>
        <div class="about-content">
          <img
            src="images/Home/conocenos.jpg"
            alt="Interior del restaurante Malasa"
          />
          <div>
            <p>
              En Malasa, cada plato cuenta una historia. Fundado en el corazón
              de la ciudad, nuestro restaurante nació del sueño de traer los
              sabores más auténticos de la India a tu mesa. Utilizamos recetas
              familiares transmitidas de generación en generación, seleccionando
              solo las especias más frescas y los ingredientes de la más alta
              calidad.
            </p>
            <p>
              Creemos que la comida es una celebración. Te invitamos a unirte a
              nosotros y descubrir la riqueza de nuestra herencia culinaria.
            </p>
          </div>
        </div>
      </section>

      <section id="menu" class="section">
        <h2 class="section-title">La Carta</h2>
        <p class="section-subtitle">
          Explora una variedad de platos que van desde los curries más intensos
          hasta los postres más delicados.
        </p>
        <a href="B04_B05-Catalogo.html" class="cta-button"
          >Ir al Menú Completo</a
        >
      </section>

      <section id="location" class="section">
        <h2 class="section-title">Encuéntranos</h2>
        <p class="section-subtitle">
          Visítanos y vive la experiencia Malasa en persona.
        </p>
        <div class="location-content">
          <div>
            <h4>Nuestra Dirección</h4>
            <p>Avenida Providencia 1233<br />Providencia, Santiago, Chile</p>
            <h4>Horarios</h4>
            <p>Lunes a Sábado: 12:00 - 23:00<br />Domingo: 12:00 - 18:00</p>
          </div>
          <iframe
            class="google-map"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.418751512411!2d-70.6111111848009!3d-33.43840598077757!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c58a679907c7%3A0x6b3f4a4a4f8d2b9!2sAv.%20Providencia%201234%2C%20Providencia%2C%20Regi%C3%B3n%20Metropolitana!5e0!3m2!1ses-419!2scl!4v1678886000000!5m2!1ses-419!2scl"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </section>

      <section id="contact" class="section">
        <h2 class="section-title">Contáctanos</h2>
        <p class="section-subtitle">
          ¿Tienes alguna pregunta o quieres hacer una reserva? Estamos aquí para
          ayudarte.
        </p>
        <a href="B06-Formulario_de_Contacto.html" class="cta-button"
          >Enviar un Mensaje</a
        >
      </section>
    </main>

    <footer class="footer">
      <p>© 2024 Restaurante Malasa. Todos los derechos reservados.</p>
    </footer>
    <div id="login-modal" class="modal-overlay hidden">
      ... (Contenido del modal de login como en la respuesta anterior) ...
    </div>
    <div id="register-modal" class="modal-overlay hidden">
      ... (Contenido del modal de registro como en la respuesta anterior) ...
    </div>
    <div id="recovery-modal" class="modal-overlay hidden">
      ... (Contenido del modal de recuperación como en la respuesta anterior)
      ...
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const loginModal = document.getElementById("login-modal");
        const registerModal = document.getElementById("register-modal");
        const recoveryModal = document.getElementById("recovery-modal");
        const loginNavLink = document.getElementById("login-nav-link");
        const goToRegisterLink = document.getElementById("go-to-register-link");
        const goToLoginLinkRegister =
          registerModal.querySelector("#go-to-login-link"); // ID único si es necesario
        const forgotPasswordLink = document.getElementById(
          "forgot-password-link"
        );
        const recoveryBackToLogin = document.getElementById(
          "recovery-back-to-login"
        );
        const closeButtons = document.querySelectorAll(".close-modal-btn");

        const openModal = (modalElement) => {
          modalElement.classList.remove("hidden");
        };
        const closeModal = () => {
          loginModal.classList.add("hidden");
          registerModal.classList.add("hidden");
          recoveryModal.classList.add("hidden");
          showRecoveryView(recoveryEmailRequestView);
        };

        loginNavLink.addEventListener("click", (e) => {
          e.preventDefault();
          openModal(loginModal);
        });
        goToRegisterLink.addEventListener("click", (e) => {
          e.preventDefault();
          closeModal();
          openModal(registerModal);
        });
        if (goToLoginLinkRegister)
          goToLoginLinkRegister.addEventListener("click", (e) => {
            e.preventDefault();
            closeModal();
            openModal(loginModal);
          });
        forgotPasswordLink.addEventListener("click", (e) => {
          e.preventDefault();
          closeModal();
          openModal(recoveryModal);
        });
        recoveryBackToLogin.addEventListener("click", (e) => {
          e.preventDefault();
          closeModal();
          openModal(loginModal);
        });

        closeButtons.forEach((button) =>
          button.addEventListener("click", closeModal)
        );
        document.querySelectorAll(".modal-overlay").forEach((overlay) => {
          overlay.addEventListener("click", (event) => {
            if (event.target === overlay) closeModal();
          });
        });
        const recoveryEmailRequestView = recoveryModal.querySelector(
          "#email-request-view"
        );
        const recoveryPasswordResetView = recoveryModal.querySelector(
          "#password-reset-view"
        );
        const recoverySuccessView =
          recoveryModal.querySelector("#success-view");
        const recoveryEmailForm = recoveryModal.querySelector(
          "#email-request-form"
        );
        const recoveryResetForm = recoveryModal.querySelector(
          "#password-reset-form"
        );
        const recoveryGoToLoginBtn =
          recoveryModal.querySelector("#go-to-login-btn");
        function showRecoveryView(viewToShow) {
          recoveryEmailRequestView.classList.add("hidden-view");
          recoveryPasswordResetView.classList.add("hidden-view");
          recoverySuccessView.classList.add("hidden-view");
          viewToShow.classList.remove("hidden-view");
        }
        recoveryEmailForm.addEventListener("submit", (e) => {
          e.preventDefault();
          console.log("Solicitando...");
          showRecoveryView(recoveryPasswordResetView);
        });
        recoveryResetForm.addEventListener("submit", (e) => {
          e.preventDefault();
          console.log("Actualizando...");
          showRecoveryView(recoverySuccessView);
        });
        recoveryGoToLoginBtn.addEventListener("click", () => {
          closeModal();
          openModal(loginModal);
        });

        window.handleRoleLogin = function (role) {
          const email = loginModal.querySelector("#emailLogin").value;
          const pass = loginModal.querySelector("#passLogin").value;
          if (!email || !pass) {
            alert("Ingresa datos.");
            return;
          }
          if (role === "admin") {
            alert(`Login Admin: ${email}`);
            closeModal();
          } else {
            alert(`Login Cliente: ${email}`);
            closeModal();
          }
        };
        loginModal
          .querySelector("#login-form")
          .addEventListener("submit", (e) => {
            e.preventDefault();
            handleRoleLogin("cliente");
          });
      });
    </script>
  </body>
</html>
