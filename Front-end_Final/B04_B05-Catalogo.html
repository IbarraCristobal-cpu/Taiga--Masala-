<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Men√∫ - Malasa</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --color-primario: #ff9933;
        --color-secundario: #8b4513;
        --color-fondo-pagina: #fdfaf5;
        --color-surface: #ffffff;
        --color-texto: #4a2e2a;
        --color-texto-secundario: #6c757d;
        --color-borde-ligero: #eee;
        --fuente-titulos: "Lora", serif;
        --fuente-cuerpo: "Open Sans", sans-serif;
      }

      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        font-family: var(--fuente-cuerpo);
        background-color: var(--color-fondo-pagina);
        color: var(--color-texto);
        margin: 0;
      }

      .navbar {
        background-color: var(--color-surface);
        padding: 0.5rem 1rem;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        position: sticky;
        top: 0;
        z-index: 100;
      }
      .navbar-container {
        width: 100%;
        max-width: 1140px;
        margin: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .navbar-brand {
        font-family: var(--fuente-titulos);
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--color-texto);
        text-decoration: none;
        display: flex;
        align-items: center;
      }
      .navbar-brand img {
        width: 40px;
        height: 40px;
        object-fit: cover;
        border-radius: 50%;
        margin-right: 0.5rem;
      }
      .navbar-nav {
        list-style: none;
        display: flex;
        gap: 1.5rem;
        margin: 0;
      }
      .nav-link {
        color: var(--color-texto);
        text-decoration: none;
        font-weight: 600;
      }
      .nav-link.active,
      .nav-link:hover {
        color: var(--color-primario);
      }

      .main-container {
        flex-grow: 1;
        width: 100%;
        max-width: 1200px;
        margin: 2em auto;
        padding: 0 1em;
        display: flex;
        gap: 2em;
      }

      .sidebar {
        width: 25%;
        flex-shrink: 0;
      }
      .sidebar h2 {
        font-family: var(--fuente-titulos);
        color: var(--color-secundario);
        margin-top: 0;
      }
      .search-group {
        display: flex;
        margin-bottom: 1.5em;
      }
      .search-group input {
        flex-grow: 1;
        padding: 0.8em;
        border: 1px solid #ccc;
        background-color: var(--color-surface);
        color: var(--color-texto);
        border-radius: 5px 0 0 5px;
      }
      .search-group input:focus {
        outline: none;
        border-color: var(--color-primario);
      }
      .search-group button {
        border: 1px solid #ccc;
        background-color: var(--color-secundario);
        color: white;
        padding: 0 1em;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
        border-left: none;
      }
      .category-nav {
        list-style: none;
        padding: 0;
        margin-top: 1.5em;
      }
      .category-nav a {
        display: block;
        padding: 0.8em 1em;
        color: var(--color-texto);
        text-decoration: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .category-nav a:hover {
        background-color: var(--color-fondo-pagina);
      }
      .category-nav a.active {
        background-color: var(--color-secundario);
        color: white;
        font-weight: 600;
      }

      /*  Secci√≥n Carrito */
      .sidebar-cart {
        background-color: var(--color-fondo);
        padding: 1em;
        border-radius: 8px;
        margin-top: 1.5em;
        text-align: center;
        border: 1px solid var(--color-borde-ligero);
      }
      .sidebar-cart p {
        margin: 0 0 0.8em 0;
        font-weight: 600;
      }
      .sidebar-cart .cart-link-btn {
        display: inline-block;
        background-color: var(--color-primario);
        color: var(--color-secundario);
        padding: 0.6em 1.5em;
        text-decoration: none;
        font-weight: 700;
        border-radius: 20px;
        font-size: 0.9em;
        border: none;
        cursor: pointer;
      }

      .product-catalog {
        width: 75%;
      }
      .category-title {
        font-family: var(--fuente-titulos);
        margin-bottom: 1em;
        color: var(--color-secundario);
      }
      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1.5em;
      }
      .product-card {
        background-color: var(--color-surface);
        border: 1px solid var(--color-borde-ligero);
        border-radius: 8px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }
      .product-card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
      }
      .card-body {
        padding: 1em;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
      }
      .card-title {
        font-family: var(--fuente-titulos);
        margin: 0 0 0.2em 0;
      }
      .card-price {
        color: var(--color-secundario);
        font-size: 1.1em;
        margin-bottom: 0.5em;
        font-weight: 600;
      }
      .card-description {
        font-size: 0.85em;
        color: var(--color-texto-secundario);
        flex-grow: 1;
        margin-bottom: 1em;
      }
      .product-actions {
        margin-top: auto;
      }
      .quantity-selector {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: var(--color-fondo-pagina);
        border-radius: 20px;
        padding: 0.3em;
        border: 1px solid var(--color-borde-ligero);
      }
      .quantity-btn {
        background-color: var(--color-primario);
        color: white;
        border: none;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        font-size: 1.5em;
        line-height: 1;
        font-weight: 700;
        cursor: pointer;
      }
      .quantity-count {
        font-size: 1.2em;
        font-weight: 700;
        color: var(--color-texto);
      }

      .footer {
        flex-shrink: 0;
        background-color: var(--color-secundario);
        text-align: center;
        padding: 1rem 1rem;
        margin-top: 3em;
      }
      .footer p {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a class="navbar-brand" href="#">
          <img src="images/Logo/flor.jpg" alt="Logo Malasa" />
          Masala
        </a>
        <ul class="navbar-nav">
          <li><a class="nav-link" href="B07-Home.html">Home</a></li>
          <li>
            <a class="nav-link active" href="B04_B05-Catalogo.html">Cat√°logo</a>
          </li>
          <li>
            <a class="nav-link" href="B06-Formulario_de_Contacto.html"
              >Contacto</a
            >
          </li>
          <li>
            <a class="nav-link" href="B08_B09-Perfil_de_usuario.html"
              >Mi Perfil</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <div class="main-container">
      <aside class="sidebar">
        <h2>Men√∫</h2>
        <div class="search-group">
          <input type="text" placeholder="¬øQu√© quieres pedir?" />
          <button>üîç</button>
        </div>

        <div class="sidebar-cart">
          <p>üõí Carrito: <span id="cart-count">0</span> items</p>
          <a href="B10_B11-Carrito_y_Descuentos.html" class="cart-link-btn"
            >Ver Carrito</a
          >
        </div>
        <ul class="category-nav">
          <li>
            <a class="category-link active" data-category="Todos"
              >Todos los Platos</a
            >
          </li>
          <li>
            <a class="category-link" data-category="Entradas"
              >Chatpati - Entradas</a
            >
          </li>
          <li>
            <a class="category-link" data-category="Platos Principales"
              >Platos Principales</a
            >
          </li>
          <li>
            <a class="category-link" data-category="Postres"
              >Mithai - Postres</a
            >
          </li>
          <li>
            <a class="category-link" data-category="Jugos">Jugos Naturales</a>
          </li>
        </ul>
      </aside>

      <main class="product-catalog">
        <h3 id="category-title" class="category-title">Todos los Platos</h3>
        <div id="product-grid" class="product-grid"></div>
      </main>
    </div>

    <footer class="footer">
      <p></p>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const products = [
          {
            id: 1,
            name: "Samosa",
            price: 8400,
            description:
              "Empanadillas de fina masa rellenas de papas y verduras.",
            category: "Entradas",
            image: "images/Entradas/4.jpg",
          },
          {
            id: 2,
            name: "Jheenga Koliwada",
            price: 13000,
            description:
              "Camarones ecuatorianos apanados y marinados en masala.",
            category: "Entradas",
            image: "images/Entradas/2.jpg",
          },
          {
            id: 3,
            name: "Chana Pindi Batura",
            price: 14400,
            description: "Garbanzos en masala servidos en salsa de cebolla",
            category: "Platos Principales",
            image: "images/Vegetarianos/1.jpg",
          },
          {
            id: 4,
            name: "Murgh Mitha Suthra",
            price: 12500,
            description:
              "Pollo macerado en deliciosa crema de almendras y coco.",
            category: "Platos Principales",
            image: "images/Pollo/3.jpg",
          },
          {
            id: 5,
            name: "Gajjar ka halwa",
            price: 5000,
            description: "Suave postre de zanahorias con almendras.",
            category: "Postres",
            image: "images/Postres/1.jpg",
          },
          {
            id: 6,
            name: "Gulab jamun",
            price: 5000,
            description:
              "Bolitas de masa de leche, fritas en salsa de almibar.",
            category: "Postres",
            image: "images/Postres/2.webp",
          },
          {
            id: 7,
            name: "Leche de rosas",
            price: 6000,
            description:
              "Bebida delicada y arom√°tica que combina leche y rosas.",
            category: "Jugos",
            image: "images/JugosNaturales/Leche_de_Rosas.jpg",
          },
          {
            id: 8,
            name: "Masala Chai",
            price: 4500,
            description:
              "T√© negro de alta calidad con una mezcla arom√°tica de especias.",
            category: "Jugos",
            image: "images/JugosNaturales/Masala_Chai.jpg",
          },
        ];

        const cartCountElement = document.getElementById("cart-count");
        const productGrid = document.getElementById("product-grid");
        const categoryNav = document.querySelector(".category-nav");
        const categoryTitle = document.getElementById("category-title");
        let totalCartItems = 0;
        const renderProducts = (filterCategory = "Todos") => {
          productGrid.innerHTML = "";
          const productsToRender =
            filterCategory === "Todos"
              ? products
              : products.filter((p) => p.category === filterCategory);
          if (productsToRender.length === 0) {
            productGrid.innerHTML = "<p>No hay productos...</p>";
            return;
          }
          productsToRender.forEach((product) => {
            const card = document.createElement("div");
            card.className = "product-card";
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <div class="card-body">
                    <h5 class="card-title">${product.name}</h5>
                    <p class="card-price">${new Intl.NumberFormat("es-CL", {
                      style: "currency",
                      currency: "CLP",
                    }).format(product.price)}</p>
                    <p class="card-description">${product.description}</p>
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <button class="quantity-btn" data-action="decrease">-</button>
                            <span class="quantity-count">0</span>
                            <button class="quantity-btn" data-action="increase">+</button>
                        </div>
                    </div>
                </div>`;
            productGrid.appendChild(card);
          });
        };

        productGrid.addEventListener("click", (event) => {
          if (event.target.classList.contains("quantity-btn")) {
            const button = event.target;
            const action = button.dataset.action;
            const quantityCountElement =
              button.parentElement.querySelector(".quantity-count");
            let currentQuantity = parseInt(quantityCountElement.textContent);
            if (action === "increase") {
              currentQuantity++;
              totalCartItems++;
            } else if (action === "decrease" && currentQuantity > 0) {
              currentQuantity--;
              totalCartItems--;
            }
            quantityCountElement.textContent = currentQuantity;
            cartCountElement.textContent = totalCartItems;
          }
        });

        categoryNav.addEventListener("click", (event) => {
          event.preventDefault();
          if (event.target.classList.contains("category-link")) {
            const selectedCategory = event.target.dataset.category;
            categoryTitle.textContent = event.target.textContent;
            categoryNav.querySelector(".active").classList.remove("active");
            event.target.classList.add("active");
            renderProducts(selectedCategory);
          }
        });

        renderProducts();
      });
    </script>
  </body>
</html>
